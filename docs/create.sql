/*************************************************
** SCHEMA(S)
*************************************************/
CREATE SCHEMA BLUEWALLET;


/*************************************************
** TABLES
*************************************************/

-- TB_USUARIO
CREATE SEQUENCE BLUEWALLET.SQ_TB_USUARIO START WITH 1 INCREMENT BY 1;
CREATE TABLE BLUEWALLET.TB_USUARIO (
    ID INTEGER NOT NULL,
    NOME CHAR(50) NOT NULL,
	CELULAR VARCHAR(13),
    EMAIL VARCHAR(100) NOT NULL,
	SENHA VARCHAR(100) NOT NULL,
	DATA_NASCIMENTO DATE NOT NULL,
	DATA_CADASTRO DATE NOT NULL,
	GOOGLE_CODE VARCHAR(255),
	
    CONSTRAINT PK_ID_USUARIO PRIMARY KEY (ID)
);

-- TB_CATEGORIA_RECEITA
CREATE SEQUENCE BLUEWALLET.SQ_TB_CATEGORIA_RECEITA START WITH 1 INCREMENT BY 1;
CREATE TABLE BLUEWALLET.TB_CATEGORIA_RECEITA (
    ID INTEGER NOT NULL,
    DESCRICAO VARCHAR(30) NOT NULL,
    FLG_ATIVO BOOLEAN NOT NULL,
	
    CONSTRAINT PK_ID_CATEGORIA_RECEITA PRIMARY KEY (ID)
);

-- TB_CATEGORIA_DESPESA
CREATE SEQUENCE BLUEWALLET.SQ_TB_CATEGORIA_DESPESA START WITH 1 INCREMENT BY 1;
CREATE TABLE BLUEWALLET.TB_CATEGORIA_DESPESA (
    ID INTEGER NOT NULL,
    DESCRICAO VARCHAR(30) NOT NULL,
    FLG_ATIVO BOOLEAN NOT NULL,
	
    CONSTRAINT PK_ID_DESPESA PRIMARY KEY (ID)
);

-- TB_LANCAMENTO_RECEITA
CREATE SEQUENCE BLUEWALLET.SQ_TB_LANCAMENTO_RECEITA START WITH 1 INCREMENT BY 1;
create table BLUEWALLET.TB_LANCAMENTO_RECEITA (
	ID INTEGER NOT NULL,
	USUARIO_ID INTEGER NOT NULL,
	CATEGORIA_RECEITA_ID INTEGER NOT NULL,
	DESCRICAO VARCHAR(50),
	NUMERO_PARCELAS INTEGER,
	VALOR FLOAT not null,
	DATA_LANCAMENTO DATE,
	FLG_PAGAMENTO_EFETUADO BOOLEAN NOT NULL,
	
	CONSTRAINT PK_ID_LANCAMENTO_RECEITA PRIMARY KEY (ID),
	constraint FK_USUARIO_ID_USUARIO foreign key (USUARIO_ID) references BLUEWALLET.TB_USUARIO(ID),
	constraint FK_CATEGORIA_RECEITA_ID foreign key (CATEGORIA_RECEITA_ID) references BLUEWALLET.TB_CATEGORIA_RECEITA(ID)
);

-- TB_LANCAMENTO_DESPESA
CREATE SEQUENCE BLUEWALLET.SQ_TB_LANCAMENTO_DESPESA START WITH 1 INCREMENT BY 1;
create table BLUEWALLET.TB_LANCAMENTO_DESPESA (
	ID INTEGER NOT NULL,
	USUARIO_ID INTEGER NOT NULL,
	CATEGORIA_DESPESA_ID INTEGER NOT NULL,
	DESCRICAO VARCHAR(50),
	NUMERO_PARCELAS INTEGER,
	VALOR FLOAT not null,
	DATA_PAGAMENTO DATE,
	FLG_PAGO BOOLEAN NOT NULL,
	
	CONSTRAINT PK_ID_LANCAMENTO_DESPESA PRIMARY KEY (ID),
	constraint FK_USUARIO_ID_USUARIO foreign key (USUARIO_ID) references BLUEWALLET.TB_USUARIO(ID),
	constraint FK_CATEGORIA_DESPESA_ID foreign key (CATEGORIA_DESPESA_ID) references BLUEWALLET.TB_CATEGORIA_DESPESA(ID)
);